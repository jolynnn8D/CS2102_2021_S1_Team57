(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/userProfile.f9f26790.png"},154:function(e,t,a){e.exports=a.p+"static/media/pet.fb90d3e6.png"},177:function(e,t,a){e.exports=a(239)},239:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(7),i=a(21),o=a.n(i),l=a(30),u=a(23),s=a(240),m=a(295),p=a(297),d=a(300),f=a(299),b=a(298),g=a(301),v=a(73),h=Object(s.a)({root:{maxWidth:345},media:{height:140}}),E=function(){var e=h(),t=Object(u.f)();return r.a.createElement(m.a,{onClick:function(e){t.push("/admin/set-price")},className:e.root},r.a.createElement(p.a,null,r.a.createElement(b.a,{className:e.media,image:"https://mrpetapp.com/wp-content/uploads/2016/11/pets_big.png",title:"Contemplative Reptile"}),r.a.createElement(f.a,null,r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Set Pet Prices"),r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Set Each Pet Price Here"))),r.a.createElement(d.a,null,r.a.createElement(g.a,{size:"small",color:"primary"},"Share"),r.a.createElement(g.a,{size:"small",color:"primary"},"Learn More")))},O=Object(s.a)({root:{maxWidth:345},media:{height:140}}),y=function(){var e=O(),t=Object(u.f)();return r.a.createElement(m.a,{onClick:function(){t.push("/admin/view-caretakers")},className:e.root},r.a.createElement(p.a,null,r.a.createElement(b.a,{className:e.media,image:"https://storage.googleapis.com/petbacker/images/blog/2018/pet-care-dog-sitting-services.jpg",title:"Contemplative Reptile"}),r.a.createElement(f.a,null,r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},"View All Caretakers"),r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Our Caretakers are amazing with animals"))),r.a.createElement(d.a,null,r.a.createElement(g.a,{size:"small",color:"primary"},"Share"),r.a.createElement(g.a,{size:"small",color:"primary"},"Learn More")))},j=a(302),k=Object(s.a)((function(e){return{root:{flexGrow:1,marginTop:150,marginLeft:100},component:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),w=function(){var e=k();return r.a.createElement("div",{className:e.root},r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement(j.a,{item:!0,xs:6},r.a.createElement(y,{className:e.component})),r.a.createElement(j.a,{item:!0,xs:6},r.a.createElement(E,{className:e.component}))))},x=a(10),S=a(27),C=a(94),P=a.n(C),_=a(26),N=a(314),T=a(321),A=a(315),D=a(320),U=a(101),B=(a(203),a(241)),R=a(242),F=a(304),L=a(303);function I(e){return e<=9?"0"+e:e}function q(e){var t=new Date(e);return""+t.getFullYear()+I(t.getMonth()+1)+I(t.getDate())}function W(e){e.split("T");return new Date(e.replace(" ","T"))}var M=Object(s.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:400},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}}}));function Y(e){var t=e.subheader,a=e.bids,n=e.onClick,c=(Object(S.a)(e,["subheader","bids","onClick"]),M());return r.a.createElement(B.a,{className:c.root,subheader:r.a.createElement("li",null)},t.map((function(e,t){return r.a.createElement("li",{key:"section-".concat(e),className:c.listSection},r.a.createElement("ul",{className:c.ul},r.a.createElement(L.a,null,"".concat(e)),a.filter((function(e){return W(e.s_time).getMonth()==t||W(e.e_time).getMonth()==t})).map((function(t){return r.a.createElement(R.a,{button:!0,key:"item-".concat(e,"-").concat(t.pouname,"-").concat(t.petName,"-").concat(t.petType,"-").concat(t.ctuname,"-").concat(t.s_time,"-").concat(t.e_time),onClick:function(){return n({pouname:t.pouname,petname:t.petname,pettype:t.pettype,ctuname:t.ctuname,s_time:t.s_time,e_time:t.e_time})}},r.a.createElement(F.a,{primary:"".concat(t.petname," (").concat(t.pettype,")")}))}))))})))}Object(s.a)({calendar:{width:"100%",height:"100%",padding:"30px 20px 50px"},list:{height:600}});var z=a(243),V=a(245),H=a(309),J=a(310),G=a(145),$=a(146),K=a(244),X=a(253),Q=a(308),Z=(a(205),a(206),a(147)),ee=a(28),te=a(87),ae=a(88),ne=Object(s.a)((function(e){return{paper:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",width:650,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},buttonRow:{left:"50%",transform:"translateX(60%)"},button:{marginLeft:10},formControl:{margin:e.spacing(1),minWidth:120}}})),re={"Credit Card":"credit card",Cash:"cash"},ce={"Delivery by Owner":"poDeliver","Caretaker Pickup":"ctPickup","Transfer Pet":"transfer"},ie=function(e){var t=ne(),a=e.closeModal,i=(e.submitData,e.petType,e.ctuname,Object(S.a)(e,["closeModal","submitData","petType","ctuname"]),Object(n.useState)([{startDate:new Date,endDate:Object(ee.a)(new Date,7),key:"selection"}])),o=Object(x.a)(i,2),l=o[0],u=o[1],s=new Date,m=Object(te.a)(s,2),p=Object(n.useState)(""),d=Object(x.a)(p,2),f=d[0],b=d[1],h=Object(n.useState)(""),E=Object(x.a)(h,2),O=E[0],y=E[1],j=Object(n.useState)(""),k=Object(x.a)(j,2),w=k[0],C=k[1],P=Object(n.useState)([]),_=Object(x.a)(P,2),N=_[0],T=_[1],A=Object(c.useStoreState)((function(e){return e.user.singleUser})),D=Object(c.useStoreActions)((function(e){return e.pets.getOwnerPetsOfType})),U=Object(c.useStoreState)((function(e){return e.pets.biddablePets})),B=Object(c.useStoreActions)((function(e){return e.careTakers.getUserAvailability})),R=Object(c.useStoreState)((function(e){return e.careTakers.availability})),F=Object(c.useStoreActions)((function(e){return e.bids.addBid}));Object(n.useEffect)((function(){return D({username:A.username,pettype:e.petType}),B({ctuname:e.ctuname,s_time:s,e_time:m}).then((function(e){!function(e){var t,a=Object(ae.a)({start:s,end:m}),n=[],r=Object($.a)(e);try{for(r.s();!(t=r.n()).done;){var c=t.value,i=Object(ae.a)({start:new Date(c.s_time),end:new Date(c.e_time)});n=n.concat(i)}}catch(o){r.e(o)}finally{r.f()}a=a.filter((function(e){return!n.find((function(t){return t.getTime()===e.getTime()}))})),T(a)}(R)})),function(){}}),[]);return r.a.createElement("div",{className:t.paper},r.a.createElement(v.a,{id:"simple-modal-title",variant:"h5"},"Select desired dates"),r.a.createElement(Z.DateRangePicker,{id:"form-datepicker",onChange:function(e){return u([e.selection])},showSelectionPreview:!0,moveRangeOnFirstSelection:!1,ranges:l,direction:"horizontal",minDate:s,maxDate:m,disabledDates:N}),r.a.createElement(z.a,{className:t.formControl},r.a.createElement(K.a,{id:"form-pet-choice-label"},"Pet for Care"),r.a.createElement(X.a,{labelId:"form-pet-choice-label",id:"form-pet-choice-select",value:f,onChange:function(e){return b(e.target.value)},autoWidth:!0},U.map((function(e){return r.a.createElement(Q.a,{value:e.petname},e.petname)})))),r.a.createElement(z.a,{className:t.formControl},r.a.createElement(K.a,{id:"form-payment-type-choice-label"},"Payment Type"),r.a.createElement(X.a,{labelId:"form-payment-type-choice-label",id:"form-payment-type-choice-select",value:O,onChange:function(e){return y(e.target.value)},autoWidth:!0},Object.entries(re).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return r.a.createElement(Q.a,{value:n},a)})))),r.a.createElement(z.a,{className:t.formControl},r.a.createElement(K.a,{id:"form-pickup-type-choice-label"},"Pickup Type"),r.a.createElement(X.a,{labelId:"form-pickup-type-choice-label",id:"form-pickup-type-choice-select",value:w,onChange:function(e){return C(e.target.value)},autoWidth:!0},Object.entries(ce).map((function(e){var t=Object(x.a)(e,2),a=t[0],n=t[1];return r.a.createElement(Q.a,{value:n},a)})))),r.a.createElement("div",{className:t.buttonRow},r.a.createElement(g.a,{className:t.button,variant:"outlined",color:"primary",onClick:function(){return function(){var t=q(l[0].startDate),n=q(l[0].endDate);F({pouname:A.username,petname:f,pettype:e.petType,ctuname:e.ctuname,s_time:t,e_time:n,pay_type:O,pet_pickup:w}),a()}()}},"Confirm"),r.a.createElement(g.a,{className:t.button,variant:"outlined",color:"secondary",onClick:e.closeModal},"Cancel")))},oe=Object(s.a)({root:{padding:30,marginTop:20},calendar:{width:"100%",height:"100%",padding:"30px 20px 50px"},list:{height:600}}),le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ue=function(e){var t=oe(),a=Object(n.useState)(new Date),i=Object(x.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)({}),s=Object(x.a)(u,2),p=s[0],d=s[1],f=Object(n.useState)(!1),b=Object(x.a)(f,2),g=(b[0],b[1],Object(c.useStoreActions)((function(e){return e.bids.getUserBids}))),h=Object(c.useStoreState)((function(e){return e.bids.userBids})),E=Object(c.useStoreActions)((function(e){return e.bids.acceptBid}));return Object(n.useEffect)((function(){return g(e.username),function(){}}),[]),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,xs:8},r.a.createElement(U.a,{className:t.calendar,onChange:function(e){d({}),l(e)}})),r.a.createElement(j.a,{item:!0,xs:4},r.a.createElement(Y,{subheader:le,bids:h,onClick:function(e){d(e)}}))),h.filter((function(e){return Object(G.isEmpty)(p)?o<=W(e.e_time)&&o>=W(e.s_time):e.pouname===p.pouname&&e.petname===p.petname&&e.pettype===p.pettype&&e.ctuname===p.ctuname&&e.s_time===p.s_time&&e.e_time===p.e_time})).map((function(e){return r.a.createElement(m.a,{className:t.root},r.a.createElement(v.a,{variant:"h4"},"Bid Details"),r.a.createElement(v.a,{variant:"h6"},"User: ",e.pouname),r.a.createElement(v.a,{variant:"h6"},"Pet: ",e.petname," (",e.pettype,")"),r.a.createElement(v.a,{variant:"h6"},"Caretaker: ",e.ctuname),r.a.createElement(v.a,{variant:"h6"},"Duration: ",W(e.s_time).toDateString()," to ",W(e.e_time).toDateString()),r.a.createElement(v.a,{variant:"h6"},"Price: $",e.cost.toFixed(2)),r.a.createElement(v.a,{variant:"h6"},"Pickup Method: ","poDeliver"==e.pet_pickup?"Pet Owner Deliver":"ctPickup"==e.pet_pickup?"Caretaker Pickup":"transfer"==e.pet_pickup?"Transfer":null),r.a.createElement("br",null),r.a.createElement(z.a,null,r.a.createElement(V.a,{color:"primary",focused:!0},"Accept bid?"),r.a.createElement(H.a,{control:r.a.createElement(J.a,{checked:1==e.is_win,onChange:function(t){return function(e){console.log("Changing bid status on backend!"),E({pouname:e.pouname,petname:e.petname,pettype:e.pettype,ctuname:e.ctuname,s_time:e.s_time,e_time:e.e_time})}(e)},color:"primary"}),label:e.is_win?"Bid Accepted":"Pending"})))})))},se=a(312),me=a(313),pe=a(323),de=a(328),fe=a(118),be=a(98),ge=a.n(be),ve=a(149),he=a.n(ve),Ee=a(97),Oe=a.n(Ee),ye=a(311),je=Object(s.a)((function(e){return{formControl:{margin:e.spacing(3),marginLeft:0},textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),ke=function(e){var t=Object(n.useState)(),a=Object(x.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(),u=Object(x.a)(l,2),s=(u[0],u[1]),m=e.parentType,p=e.parentPrice,d=(e.label,Object(S.a)(e,["parentType","parentPrice","label"]),Object(c.useStoreActions)((function(e){return e.pets.getPetCategories}))),f=Object(c.useStoreState)((function(e){return e.pets.petCategories}));Object(n.useEffect)((function(){return d(),function(){}}),[]);var b=je();return r.a.createElement("div",null,r.a.createElement(z.a,{required:!0,variant:"outlined",fullWidth:!0,className:b.formControl},r.a.createElement(K.a,{htmlFor:"select-caretaker-petType"},e.label),r.a.createElement(X.a,{native:!0,value:i,label:e.label,onChange:function(e){o(e.target.value),m(e)},inputProps:{name:"pettype",id:"select-caretaker-petType"}},r.a.createElement("option",{"aria-label":"None",value:""}),f.map((function(e){return r.a.createElement("option",{key:e.pettype,value:e.pettype},e.pettype)})))),r.a.createElement(ye.a,{variant:"outlined",label:"Enter the price per day for the pet type above",required:!0,fullWidth:!0,id:"price",autoComplete:"price",autoFocus:!0,type:"number",className:b.textfield,onChange:function(e){s(e.target.value),p(e)}}))};ke.defaultProps={parentCallback:function(){console.log("There is no parent callback function defined")},label:"Pet Types"};var we=ke,xe=a(322),Se=Object(s.a)((function(e){return{modal:{width:"40%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ce=function(e){e.owner;var t=e.username,a=(Object(S.a)(e,["owner","username"]),Se()),i=Object(n.useState)(!1),o=Object(x.a)(i,2),l=o[0],u=o[1],s=Object(n.useState)(!1),p=Object(x.a)(s,2),d=p[0],f=p[1],b=Object(n.useState)(""),v=Object(x.a)(b,2),h=v[0],E=v[1],O=Object(n.useState)(""),y=Object(x.a)(O,2),j=y[0],k=y[1],w=Object(n.useState)(""),C=Object(x.a)(w,2),P=C[0],_=C[1],N=Object(c.useStoreActions)((function(e){return e.careTakers.getPetCareList})),T=Object(c.useStoreActions)((function(e){return e.careTakers.addPetCareItem})),A=Object(c.useStoreActions)((function(e){return e.careTakers.deletePetType})),D=Object(c.useStoreState)((function(e){return e.careTakers.petCareList})),U=function(){u(!1)},L=function(){f(!1)};return Object(n.useEffect)((function(){return N(t),function(){}}),[]),r.a.createElement("div",null,r.a.createElement(B.a,null,D.map((function(a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{key:Object(xe.a)()},r.a.createElement(se.a,null,r.a.createElement(de.a,null,r.a.createElement(he.a,null))),r.a.createElement(F.a,{primary:a.pettype}),r.a.createElement(F.a,{primary:"$".concat(a.price,"/day")}),e.owner?r.a.createElement(me.a,null,r.a.createElement(fe.a,{edge:"end","aria-label":"delete",onClick:function(){return A({username:t,pettype:a.pettype})}},r.a.createElement(Oe.a,null))):null,e.owner?null:r.a.createElement(me.a,null,r.a.createElement(fe.a,{onClick:function(){return e=a.pettype,_(e),void u(!0);var e}},r.a.createElement(F.a,{primary:"Bid"})))))})),e.owner?r.a.createElement(R.a,{button:!0,onClick:function(){f(!0)}},r.a.createElement(se.a,null,r.a.createElement(de.a,null,r.a.createElement(ge.a,null))),r.a.createElement(F.a,{primary:"Click to add new pet"})):null),r.a.createElement(pe.a,{open:l,onClose:U},r.a.createElement(ie,{ctuname:e.username,petType:P,closeModal:U})),r.a.createElement(pe.a,{open:d,onClose:L},r.a.createElement(m.a,{className:a.modal},r.a.createElement(we,{parentType:function(e){E(e.target.value)},parentPrice:function(e){k(e.target.value)}}),r.a.createElement(g.a,{onClick:function(e){L(),console.log({pettype:h,price:parseInt(j)}),T({username:t,pettype:h,price:parseInt(j)})},color:"primary"}," Add new pet type "))))},Pe=a(150),_e=a.n(Pe),Ne=Object(s.a)((function(e){return{textfield:{marginRight:e.spacing(3),marginBottom:e.spacing(3),marginTop:e.spacing(3),width:"40%"}}})),Te=function(e){var t=Ne(),a=Object(n.useState)(""),i=Object(x.a)(a,2),o=i[0],l=i[1],u=Object(n.useState)(""),s=Object(x.a)(u,2),m=s[0],p=s[1],d=Object(c.useStoreState)((function(e){return e.careTakers.availability})),f=Object(c.useStoreActions)((function(e){return e.careTakers.getUserAvailability})),b=Object(c.useStoreActions)((function(e){return e.careTakers.addUserAvailability})),h=Object(c.useStoreActions)((function(e){return e.careTakers.deleteUserAvailability}));Object(n.useEffect)((function(){return f({ctuname:e.username,s_time:new Date,e_time:new Date((new Date).setDate((new Date).getDate()+365))}),function(){}}),[]);return r.a.createElement("div",null,r.a.createElement(v.a,null," Your availability in the next year: "),r.a.createElement(B.a,null,d.map((function(t){return r.a.createElement(R.a,{key:Object(xe.a)()},r.a.createElement(se.a,null,r.a.createElement(de.a,null,r.a.createElement(_e.a,null))),r.a.createElement(F.a,{primary:"".concat(W(t.s_time).toDateString()," to ").concat(W(t.e_time).toDateString())}),r.a.createElement(me.a,null,r.a.createElement(fe.a,{edge:"end","aria-label":"delete",onClick:function(){return function(t){console.log(t),h({ctuname:e.username,s_time:t.s_time,e_time:t.e_time})}(t)}},r.a.createElement(Oe.a,null))))}))),r.a.createElement(v.a,null," Add new availability here (if you're a full-timer, you can only add periods of 150 days): "),r.a.createElement(ye.a,{variant:"outlined",label:"Enter start date in YYYYMMDD",required:!0,id:"startDate",autoComplete:"startdate",autoFocus:!0,type:"number",className:t.textfield,onChange:function(e){return l(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Enter your end date YYYYMMDD",required:!0,id:"endDate",autoComplete:"enddate",autoFocus:!0,type:"number",className:t.textfield,onChange:function(e){return p(e.target.value)}}),r.a.createElement(g.a,{variant:"outlined",color:"primary",onClick:function(){b({ctuname:e.username,s_time:o,e_time:m}),l(""),p("")}},"Submit availability"))};function Ae(e){var t=e.children,a=e.value,n=e.index,c=(e.username,Object(S.a)(e,["children","value","index","username"]));return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},c),a===n&&r.a.createElement(D.a,{p:3},r.a.createElement("span",null,t)))}function De(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var Ue=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%"}}}));function Be(e){e.username;var t=Ue(),a=Object(_.a)(),n=r.a.useState(0),c=Object(x.a)(n,2),i=c[0],o=c[1];return r.a.createElement("div",{className:t.root},r.a.createElement(N.a,{position:"static",color:"default"},r.a.createElement(T.a,{value:i,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",centered:!0},r.a.createElement(A.a,Object.assign({label:"Bids"},De(0))),r.a.createElement(A.a,Object.assign({label:"Availability/Salary"},De(1))),r.a.createElement(A.a,Object.assign({label:"Pet Price"},De(2))))),r.a.createElement(P.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:i,onChangeIndex:function(e){o(e)}},r.a.createElement(Ae,{value:i,index:0,dir:a.direction},r.a.createElement(ue,{username:e.username})),r.a.createElement(Ae,{value:i,index:1,dir:a.direction},r.a.createElement(Te,{username:e.username})),r.a.createElement(Ae,{value:i,index:2,dir:a.direction},r.a.createElement(Ce,{owner:!0,username:e.username}))))}var Re=a(11),Fe=a.n(Re),Le=a(14),Ie=a(316),qe=a(324),We=a(248),Me=Object(s.a)((function(e){return{formControl:{margin:e.spacing(3),marginLeft:0},textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),Ye=function(e){var t=e.setP1StartDate,a=e.setP1EndDate,n=e.setP2StartDate,c=e.setP2EndDate,i=Me();return r.a.createElement("div",null,r.a.createElement(v.a,{align:"center"},"Please enter two periods of 150 days each."),r.a.createElement(ye.a,{variant:"outlined",label:"Enter your period 1 start date in YYYYMMDD",required:!0,fullWidth:!0,id:"startDate",autoComplete:"startdate",autoFocus:!0,type:"number",className:i.textfield,onChange:function(e){return t(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Enter your period 1 end date YYYYMMDD",required:!0,fullWidth:!0,id:"endDate",autoComplete:"enddate",autoFocus:!0,type:"number",className:i.textfield,onChange:function(e){return a(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Enter your period 2 start date in YYYYMMDD",required:!0,fullWidth:!0,id:"startDate",autoComplete:"startdate",autoFocus:!0,type:"number",className:i.textfield,onChange:function(e){return n(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Enter your period 2 end date YYYYMMDD",required:!0,fullWidth:!0,id:"endDate",autoComplete:"enddate",autoFocus:!0,type:"number",className:i.textfield,onChange:function(e){return c(e.target.value)}}))},ze=Object(s.a)((function(e){return{verticalSections:{margin:"100px 10px 30px"},modal:{width:"40%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ve=function(){var e=ze(),t=Object(n.useState)(!1),a=Object(x.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)("parttime"),u=Object(x.a)(l,2),s=u[0],p=u[1],d=Object(n.useState)(""),f=Object(x.a)(d,2),b=f[0],h=f[1],E=Object(n.useState)(0),O=Object(x.a)(E,2),y=O[0],k=O[1],w=Object(n.useState)(0),S=Object(x.a)(w,2),C=S[0],P=S[1],_=Object(n.useState)(0),N=Object(x.a)(_,2),T=N[0],A=N[1],D=Object(n.useState)(0),U=Object(x.a)(D,2),B=U[0],R=U[1],F=Object(n.useState)(0),L=Object(x.a)(F,2),I=L[0],q=L[1],W=Object(c.useStoreActions)((function(e){return e.careTakers.addPartTimeCareTaker})),M=Object(c.useStoreActions)((function(e){return e.careTakers.addFullTimeCareTaker})),Y=Object(c.useStoreState)((function(e){return e.user.singleUser})),J=Object(c.useStoreActions)((function(e){return e.user.getUser})),G=Object(c.useStoreActions)((function(e){return e.user.getDisplayedUser})),$=function(e){h(e.target.value)},K=function(e){k(e.target.value)},X=function(){o(!i)},Q=function(){var e=Object(Le.a)(Fe.a.mark((function e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log({username:Y.username,name:Y.firstname,age:Y.age,pettype:b,price:parseInt(y)}),"parttime"!=s){e.next=8;break}return e.next=4,W({username:Y.username,name:Y.firstname,age:Y.age,pettype:b,price:parseInt(y)});case 4:J(Y.username),G(Y.username),e.next=13;break;case 8:if("fulltime"!=s){e.next=13;break}return e.next=11,M({username:Y.username,name:Y.firstname,age:Y.age,pettype:b,price:parseInt(y),period1_s:C,period1_e:T,period2_s:B,period2_e:I});case 11:J(Y.username),G(Y.username);case 13:X();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,className:e.verticalSections,xs:12},r.a.createElement(v.a,null,"You are not a caretaker."),r.a.createElement(g.a,{color:"primary",variant:"contained",onClick:X},"Sign up here"),r.a.createElement(v.a,null,"If you have signed up, please click on the page again.")),r.a.createElement(pe.a,{open:i,onClose:X},r.a.createElement(m.a,{className:e.modal},r.a.createElement(z.a,{component:"fieldset"},r.a.createElement(V.a,{component:"legend"},"Type of caretaker"),r.a.createElement(Ie.a,{value:s,onChange:function(e){p(e.target.value)}},r.a.createElement(H.a,{value:"parttime",control:r.a.createElement(qe.a,null),label:"Part-time"}),r.a.createElement(H.a,{value:"fulltime",control:r.a.createElement(qe.a,null),label:"Full-time"})),r.a.createElement(We.a,null,"Choose at least one role!")),"fulltime"===s?r.a.createElement(r.a.Fragment,null,r.a.createElement(we,{parentType:$,parentPrice:K,label:"Choose a pet type you can care for"}),r.a.createElement(Ye,{setP1StartDate:P,setP1EndDate:A,setP2StartDate:R,setP2EndDate:q})):r.a.createElement(r.a.Fragment,null,r.a.createElement(we,{parentType:$,parentPrice:K,label:"Choose a pet type you can care for"})),r.a.createElement(g.a,{color:"primary",onClick:Q}," Confirm sign up "))))},He=Object(s.a)({root:{margin:"100px 30px 30px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},header:{marginBottom:10,marginLeft:"auto",marginRight:"auto",width:"100%",textAlign:"center"}}),Je=function(){var e=He(),t=Object(u.g)().username,a=Object(c.useStoreActions)((function(e){return e.user.getUser})),i=Object(c.useStoreState)((function(e){return e.user.singleUser}));return Object(n.useEffect)((function(){return a(t),function(){}}),[]),i.is_carer?r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,className:e.root},r.a.createElement(m.a,{className:e.header},r.a.createElement(f.a,null,r.a.createElement(v.a,{variant:"h5",component:"h2"},"Caretaker type: ",i.is_fulltimer?"Full-time Caretaker":"Part-time Caretaker"))),r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(Be,{username:t})))):r.a.createElement(Ve,null)},Ge=function(){return r.a.createElement(v.a,{variant:"h2"},"Welcome!")},$e=Object(s.a)((function(e){return{card:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},media:{height:140},container:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},searchbar:{margin:e.spacing(1)}}})),Ke=function(){var e=$e(),t=[{name:"Caretaking Services",available:!0,link:"/users/caretakers",description:"Find a caretaker for your pet today!",imageLink:"https://storage.googleapis.com/petbacker/images/blog/2017/dog-lover-in-autumn.jpg"},{name:"Caretaker Settings",available:!0,link:"/users/"+Object(c.useStoreState)((function(e){return e.user.singleUser})).username+"/caretaker-admin",description:"Edit your caretaker profile",imageLink:"https://storage.googleapis.com/petbacker/images/blog/2018/pet-care-dog-sitting-services.jpg"}];return r.a.createElement(j.a,{container:!0,spacing:3},t.map((function(t){return r.a.createElement(j.a,{key:Object(xe.a)(),item:!0,xs:6},r.a.createElement(m.a,{className:e.card,variant:"outlined",width:1},r.a.createElement(p.a,{component:l.b,to:t.link,style:{textDecoration:"none"}},r.a.createElement(b.a,{className:e.media,image:t.imageLink}),r.a.createElement(f.a,null,r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),r.a.createElement(v.a,{variant:"body2",component:"p"},t.description),r.a.createElement(g.a,{size:"small",color:"primary"},"Learn More")))))})))},Xe=a(317),Qe=Object(s.a)((function(e){return{card:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},media:{height:140},container:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"}}})),Ze=function(){var e=Qe();return r.a.createElement(Xe.a,{component:"main",maxWidth:"xl",className:e.container},r.a.createElement(Ge,null),r.a.createElement(Ke,null))},et=function(e){Object(u.g)().id;return r.a.createElement("div",{className:"text-center"},"Update Userssss UWU")},tt=function(){return r.a.createElement("div",null,r.a.createElement(et,null))},at=Object(s.a)({root:{maxWidth:345,marginTop:200},media:{height:140}}),nt=function(){var e=at();return r.a.createElement(m.a,{className:e.root},r.a.createElement(p.a,null,r.a.createElement(b.a,{className:e.media,image:"https://i.insider.com/5ebd4a2a1441925fab23f6c6?width=600&format=jpeg&auto=webp",title:"Contemplative Reptile"}),r.a.createElement(f.a,null,r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Lizard"),r.a.createElement(v.a,{variant:"body2",color:"textSecondary",component:"p"},"Lizards are a widespread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"))),r.a.createElement(d.a,null,r.a.createElement(g.a,{size:"small",color:"primary"},"Share"),r.a.createElement(g.a,{size:"small",color:"primary"},"Learn More")))};function rt(e){var t=e.children,a=e.value,n=e.index,c=Object(S.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},c),a===n&&r.a.createElement(D.a,{p:3},r.a.createElement(v.a,null,t)))}function ct(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var it=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}));function ot(){var e=it(),t=r.a.useState(0),a=Object(x.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(T.a,{orientation:"vertical",variant:"scrollable",value:n,onChange:function(e,t){c(t)},"aria-label":"Vertical tabs example",className:e.tabs},r.a.createElement(A.a,Object.assign({label:"Item One"},ct(0))),r.a.createElement(A.a,Object.assign({label:"Item Two"},ct(1))),r.a.createElement(A.a,Object.assign({label:"Item Three"},ct(2))),r.a.createElement(A.a,Object.assign({label:"Item Four"},ct(3))),r.a.createElement(A.a,Object.assign({label:"Item Five"},ct(4))),r.a.createElement(A.a,Object.assign({label:"Item Six"},ct(5))),r.a.createElement(A.a,Object.assign({label:"Item Seven"},ct(6)))),r.a.createElement(rt,{value:n,index:0},"Item One"),r.a.createElement(rt,{value:n,index:1},"Item Two"),r.a.createElement(rt,{value:n,index:2},"Item Three"),r.a.createElement(rt,{value:n,index:3},"Item Four"),r.a.createElement(rt,{value:n,index:4},"Item Five"),r.a.createElement(rt,{value:n,index:5},"Item Six"),r.a.createElement(rt,{value:n,index:6},"Item Seven"))}var lt=a(112),ut=[{field:"id",headerName:"Index",width:100},{field:"username",headerName:"Username",width:130},{field:"carername",headerName:"First name",width:130},{field:"age",headerName:"Age",width:130},{field:"pettypes",headerName:"Pet types",width:130},{field:"rating",headerName:"Rating",width:130},{field:"salary",headerName:"Salary",width:130}],st=function(){var e=Object(c.useStoreActions)((function(e){return e.careTakers.getCareTakers}));Object(n.useEffect)((function(){return e(),function(){}}),[]);var t=Object(c.useStoreState)((function(e){return e.careTakers.caretakers})),a=0;return n.createElement("div",{style:{height:800,width:"90%",marginTop:100}},n.createElement(lt.a,{rows:t.map((function(e){return{id:++a,username:e.username,carername:e.carername,age:e.age,pettypes:e.pettypes,rating:e.rating,salary:e.salary}})),columns:ut,pageSize:10,checkboxSelection:!0}))},mt=Object(s.a)({verticalSections:{margin:"100px 10px 30px"}}),pt=function(){var e=mt();return r.a.createElement("div",{className:e.verticalSections},r.a.createElement(ot,null),r.a.createElement(st,null))},dt=Object(s.a)({profile:{width:130,height:130,margin:"0px 30px 0 0",background:"white"},media:{height:"100%",width:"100%"}}),ft=function(e){var t=dt();return r.a.createElement("div",null,r.a.createElement(de.a,{className:t.profile},r.a.createElement("a",{href:e.href},r.a.createElement("img",{className:t.media,src:e.img}))))},bt=a(117),gt=a.n(bt),vt=Object(s.a)((function(e){return{textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},button:{margin:e.spacing(3)}}})),ht=function(e){var t=e.closeModal,a=vt(),i=Object(c.useStoreActions)((function(e){return e.user.editUser})),o=Object(c.useStoreState)((function(e){return e.user.singleUser})),l=Object(n.useState)(o.firstname),u=Object(x.a)(l,2),s=u[0],m=u[1],p=Object(n.useState)(o.age),d=Object(x.a)(p,2),f=d[0],b=d[1],v=o.is_petowner&&o.is_carer?"both":o.is_carer?"caretaker":"petowner";return r.a.createElement("form",null,r.a.createElement(ye.a,{variant:"outlined",label:"Username (You can't change your username)",required:!0,fullWidth:!0,disabled:!0,id:"username",autoComplete:"userName",defaultValue:o.username,multiline:!0,autoFocus:!0,className:a.textfield}),r.a.createElement(ye.a,{variant:"outlined",label:"User First Name",required:!0,fullWidth:!0,id:"userfirstname",autoComplete:"userFirstName",defaultValue:o.firstname,autoFocus:!0,className:a.textfield,onChange:function(e){return m(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"User Age",required:!0,fullWidth:!0,id:"userage",autoComplete:"userAge",type:"number",defaultValue:o.age,autoFocus:!0,className:a.textfield,onChange:function(e){return b(e.target.value)}}),r.a.createElement(g.a,{className:a.button,variant:"contained",color:"inherit",onClick:function(){return"petowner"===v?i({username:o.username,firstname:s,age:f,usertype:"petowner"}):"caretaker"===v?i({username:o.username,firstname:s,age:f,usertype:"caretaker"}):(i({username:o.username,firstname:s,age:f,usertype:"caretaker"}),i({username:o.username,firstname:s,age:f,usertype:"petowner"})),void t()}},"Save User Information"))},Et=Object(s.a)((function(e){return{root:{marginBottom:40,padding:50,height:250},profileTextArea:{margin:"0px 20px 0px"},profileText:{marginBottom:15},modal:{width:"40%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ot=function(e){var t=Et(),a=e.username,i=Object(c.useStoreActions)((function(e){return e.user.getDisplayedUser})),o=Object(c.useStoreState)((function(e){return e.user.displayedUser})),l=(Object(c.useStoreState)((function(e){return e.user.singleUser})),Object(c.useStoreActions)((function(e){return e.careTakers.getRating}))),u=Object(c.useStoreState)((function(e){return e.careTakers.userRating}));Object(n.useEffect)((function(){return i(a),l(a),function(){}}),[]);var s=Object(n.useState)(!1),p=Object(x.a)(s,2),d=p[0],f=p[1],b=function(){f(!d)};return"petowner"===e.display?r.a.createElement("div",null,r.a.createElement(m.a,{onClick:function(){return b()},className:t.root},r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,xs:3},r.a.createElement(ft,{img:gt.a})),r.a.createElement(j.a,{item:!0,className:t.profileTextArea},r.a.createElement("h2",{className:t.profileText}," ",o.username),r.a.createElement("h2",{className:t.profileText}," (",o.firstname,")"),r.a.createElement("h4",null," Age: ",o.age),r.a.createElement("h6",null,"Click on your profile to make any updates!")))),r.a.createElement(pe.a,{open:d,onClose:b},r.a.createElement(m.a,{className:t.modal},r.a.createElement(ht,{closeModal:b})))):r.a.createElement("div",null,r.a.createElement(m.a,{onClick:function(){return b()},className:t.root},r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,xs:3},r.a.createElement(ft,{img:gt.a})),r.a.createElement(j.a,{item:!0,className:t.profileTextArea},r.a.createElement("h2",{className:t.profileText}," ",o.username," (",o.firstname,")"),r.a.createElement("h4",null," Age: ",o.age),r.a.createElement("h4",null," Caretaker Type: ",o.is_fulltimer?"full-timer":"part-timer"),r.a.createElement("h4",null," Rating: ",parseFloat(u.avg).toFixed(2)," "),r.a.createElement("h6",null,"Click on your profile to make any updates!")))),r.a.createElement(pe.a,{open:d,onClose:b},r.a.createElement(m.a,{className:t.modal},r.a.createElement(ht,{closeModal:b}))))},yt=a(154),jt=a.n(yt),kt=Object(s.a)((function(e){return{textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},button:{margin:e.spacing(3)}}})),wt=function(e){e.parentCallback,e.parentData;var t=e.closeModal,a=(e.modalType,Object(S.a)(e,["parentCallback","parentData","closeModal","modalType"]),kt()),i=Object(n.useState)(""),o=Object(x.a)(i,2),l=o[0],u=o[1],s=Object(n.useState)(""),m=Object(x.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(0),b=Object(x.a)(f,2),v=b[0],h=b[1],E=Object(n.useState)(""),O=Object(x.a)(E,2),y=O[0],j=O[1],k=Object(c.useStoreActions)((function(e){return e.pets.getPetCategories})),w=Object(c.useStoreState)((function(e){return e.pets.petCategories})),C=function(a){!function(t){e.parentCallback({petName:l,petType:p,petAge:v,petRequirements:y},t)}(a),t()};return Object(n.useEffect)((function(){return k(),u(e.parentData.petName),d(e.parentData.petType),h(e.parentData.petAge),j(e.parentData.petRequirements),function(){}}),[]),r.a.createElement("form",null,r.a.createElement(ye.a,{variant:"outlined",label:"Pet Name",required:!0,fullWidth:!0,id:"petName",autoComplete:"petName",defaultValue:e.parentData.petName,multiline:!0,autoFocus:!0,className:a.textfield,onChange:function(e){return u(e.target.value)}}),r.a.createElement(z.a,{required:!0,variant:"outlined",fullWidth:!0,className:a.formControl},r.a.createElement(K.a,{htmlFor:"select-caretaker-petType"},"Pet Type"),r.a.createElement(X.a,{native:!0,value:p,label:"Pet Type",onChange:function(e){return d(e.target.value)},inputProps:{name:"pettype",id:"select-caretaker-petType"}},r.a.createElement("option",{"aria-label":"None",value:""}),w.map((function(e){return r.a.createElement("option",{key:e.pettype,value:e.pettype},e.pettype)})))),r.a.createElement(ye.a,{variant:"outlined",label:"Pet Age",required:!0,fullWidth:!0,id:"petAge",autoComplete:"petAge",type:"number",defaultValue:e.parentData.petAge,autoFocus:!0,className:a.textfield,onChange:function(e){return h(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Special Requirements",fullWidth:!0,id:"petRequirements",autoComplete:"petRequirements",defaultValue:e.parentData.petRequirements,multiline:!0,autoFocus:!0,className:a.textfield,onChange:function(e){return j(e.target.value)}}),r.a.createElement(g.a,{className:a.button,variant:"contained",color:"inherit",onClick:function(){return C(e.modalType)}},"Save Pet Information"),"edit"==e.modalType?r.a.createElement(g.a,{className:a.button,variant:"contained",color:"secondary",onClick:function(){return C("delete")}},"Delete Pet"):null)};wt.defaultProps={parentCallback:function(){console.log("There is no parent callback function defined")},closeModal:function(){console.log("Please pass a close modal function from the parent")},parentData:{petName:"",petType:"",petAge:0,petRequirements:""},modalType:"create"};var xt=wt,St=Object(s.a)((function(e){return{root:{padding:30,maxHeight:600},petAvatar:{margin:10},modal:{width:"40%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},petName:{textAlign:"center"}}})),Ct=function(e){var t=r.a.useState(!1),a=Object(x.a)(t,2),i=a[0],o=a[1],l=r.a.useState({}),u=Object(x.a)(l,2),s=u[0],p=u[1],d=r.a.useState("create"),f=Object(x.a)(d,2),b=f[0],g=f[1],v=(e.username,Object(S.a)(e,["username"]),Object(c.useStoreActions)((function(e){return e.petOwners.addPetOwner}))),h=Object(c.useStoreState)((function(e){return e.user.singleUser})),E=Object(c.useStoreActions)((function(e){return e.user.getUser})),O=Object(c.useStoreActions)((function(e){return e.user.getDisplayedUser})),y=function(){o(!0)},k=function(){var t=Object(Le.a)(Fe.a.mark((function t(){return Fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!1),t.next=3,w(e.username);case 3:p({});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=Object(c.useStoreActions)((function(e){return e.pets.getOwnerPets})),C=Object(c.useStoreActions)((function(e){return e.pets.addPet})),P=Object(c.useStoreActions)((function(e){return e.pets.editPet})),_=Object(c.useStoreActions)((function(e){return e.pets.deletePet}));Object(n.useEffect)((function(){return w(e.username),function(){}}),[]);var N=Object(c.useStoreState)((function(e){return e.pets.ownerSpecificPets}));console.log(N);var T=St();return r.a.createElement(m.a,{className:T.root},r.a.createElement("h2",null," Pets Owned "),r.a.createElement(j.a,{container:!0},N.map((function(e){return r.a.createElement(j.a,{key:Object(xe.a)(),item:!0,className:T.petAvatar,onClick:function(){return t=e.petname,a=e.pettype,n=e.petage,r=e.requirements,y(),g("edit"),void p({petName:t,petType:a,petAge:n,petRequirements:r});var t,a,n,r}},r.a.createElement(ft,{img:jt.a,href:"#"}),r.a.createElement("h6",{className:T.petName}," ",e.petname," "))}))),r.a.createElement(R.a,{button:!0,onClick:function(){y(),g("create")}},r.a.createElement(se.a,null,r.a.createElement(de.a,null,r.a.createElement(ge.a,null))),h.is_petowner?r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{primary:"Click to add new pet"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{primary:"Click to add new pet to become a pet owner!"}))),r.a.createElement(pe.a,{open:i,onClose:k},r.a.createElement(m.a,{className:T.modal},r.a.createElement(xt,{parentData:s,parentCallback:function(t,a){"create"==a&&(h.is_petowner||(v({username:h.username,ownername:h.firstname,age:h.age,pettype:t.petType,petname:t.petName,petage:t.petAge,requirements:t.petRequirements}),E(h.username),O(h.username)),C({username:e.username,petname:t.petName,pettype:t.petType,petage:t.petAge,requirements:t.petRequirements})),"edit"==a&&P({username:e.username,petname:t.petName,pettype:t.petType,petage:t.petAge,requirements:t.petRequirements}),"delete"==a&&_({username:e.username,petname:t.petName})},closeModal:k,modalType:b}))))},Pt=Object(s.a)((function(e){return{root:{padding:e.spacing(2),width:"100%"},modal:{width:"40%",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"absolute",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),_t=function(e){var t=e.username,a=Pt(),i=Object(n.useState)(!1),o=Object(x.a)(i,2),l=o[0],u=o[1],s=Object(n.useState)({}),p=Object(x.a)(s,2),d=p[0],f=p[1],b=Object(n.useState)(5),h=Object(x.a)(b,2),E=h[0],O=h[1],y=Object(n.useState)(""),k=Object(x.a)(y,2),w=k[0],S=k[1],C=Object(c.useStoreActions)((function(e){return e.bids.getPetOwnerBids})),P=Object(c.useStoreActions)((function(e){return e.bids.addReviewToBid})),_=Object(c.useStoreActions)((function(e){return e.bids.makePayment})),N=Object(c.useStoreState)((function(e){return e.bids.petOwnerBids}));Object(n.useEffect)((function(){return C(t),function(){}}),[]);var T=function(){u(!1)};return r.a.createElement("div",null,r.a.createElement(m.a,{style:{width:"100%"},className:a.root},r.a.createElement(B.a,{style:{maxHeight:500,overflow:"auto"}},N.map((function(e){return r.a.createElement(j.a,{key:Object(xe.a)()},r.a.createElement(v.a,null,"Pet: ",e.petname),r.a.createElement(v.a,null,"Caretaker: ",e.ctuname),r.a.createElement(v.a,null,"Duration: ",W(e.s_time).toLocaleDateString()," to ",W(e.e_time).toLocaleDateString()),r.a.createElement(v.a,null,"Bid: ",null==e.is_win?"Pending":e.is_win?"Accepted":"Rejected"),e.is_win?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,"Job status: ",W(e.e_time)<new Date?"Completed":"In process"),r.a.createElement(v.a,null,"Payment made: ",e.pay_status?"Payment completed":"Pending payment"),e.pay_status?W(e.e_time)<new Date?null==e.review?r.a.createElement(g.a,{color:"default",variant:"contained",onClick:function(){return function(e){u(!0),f(e)}(e)}},"Leave Review "):"Review Completed":null:r.a.createElement(g.a,{color:"default",variant:"contained",onClick:function(){var t;_({pouname:(t=e).pouname,petname:t.petname,pettype:t.pettype,ctuname:t.ctuname,s_time:t.s_time,e_time:t.e_time})}}," Make Payment ")):null,r.a.createElement(v.a,null,"----------------------------------------------------------------------"))})))),r.a.createElement(pe.a,{open:l,onClose:T},r.a.createElement(m.a,{className:a.modal},r.a.createElement(ye.a,{variant:"outlined",label:"Rating (1 to 5)",required:!0,fullWidth:!0,id:"rating",autoFocus:!0,type:"number",InputProps:{inputProps:{max:5,min:1}},className:a.textfield,onChange:function(e){return O(e.target.value)}}),r.a.createElement(ye.a,{id:"review",label:"Leave review here",multiline:!0,rows:3,fullWidth:!0,variant:"outlined",className:a.textfield,onChange:function(e){return S(e.target.value)}}),r.a.createElement(g.a,{variant:"outlined",onClick:function(){return P({bid:d,rating:E,review:w}),void T()}},"Submit Review"))))};Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,width:500}}}));var Nt=Object(s.a)({verticalSections:{margin:"100px 10px 30px"}}),Tt=function(){var e=Nt(),t=Object(u.g)().username;return r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,className:e.verticalSections,xs:7},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(Ot,{username:t,display:"petowner"})),r.a.createElement(j.a,{item:!0},r.a.createElement(Ct,{username:t}))),r.a.createElement(j.a,{item:!0,className:e.verticalSections,xs:4},r.a.createElement(v.a,{variant:"h3",align:"center"}," Bid List "),r.a.createElement(_t,{username:t})))},At=function(e){var t=Object(c.useStoreActions)((function(e){return e.careTakers.getUserReviews})),a=Object(c.useStoreState)((function(e){return e.careTakers.userReviews}));return Object(n.useEffect)((function(){return t(e.username),function(){}}),[]),r.a.createElement(m.a,{style:{width:"100%"}},r.a.createElement(B.a,{style:{maxHeight:300,overflow:"auto"}},a.map((function(e){return r.a.createElement(R.a,{key:Object(xe.a)()},r.a.createElement(F.a,{primary:"".concat(e.pouname,": ").concat(e.review)}),r.a.createElement(me.a,null,r.a.createElement(F.a,{primary:"Rating: ".concat(e.rating,"/5")})))}))))},Dt=Object(s.a)({verticalSections:{margin:"100px 30px 30px"},card:{marginTop:30}}),Ut=function(e){var t=Dt(),a=Object(u.g)().username,i=Object(c.useStoreActions)((function(e){return e.user.getDisplayedUser})),o=Object(c.useStoreState)((function(e){return e.user.displayedUser}));return Object(n.useEffect)((function(){return i(a),function(){}}),[]),1==o.is_carer?r.a.createElement("div",null,r.a.createElement(j.a,{container:!0},r.a.createElement(j.a,{item:!0,className:t.verticalSections,xs:12},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(Ot,{display:"caretaker",username:a})),r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(m.a,null,r.a.createElement(Ce,{owner:!1,username:a}))),r.a.createElement(j.a,{item:!0,xs:12,className:t.card},r.a.createElement(v.a,{variant:"h4"}," Reviews "),r.a.createElement(At,{username:a}))))):r.a.createElement(Ve,null)},Bt=a(29),Rt=a(20),Ft=a(17),Lt=a.n(Ft),It="http://localhost:5000",qt={caretakers:[],petCareList:[],petTypeList:[],availability:[],userReviews:[],userRating:[],getCareTakers:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt.a.get("http://localhost:5000/api/v1/caretaker");case 2:n=e.sent,r=n.data,t.setUsers(r.data.users);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setUsers:Object(c.action)((function(e,t){e.caretakers=Object(Rt.a)(t)})),addPartTimeCareTaker:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.username,c=n.name,i=n.age,o=n.pettype,l=n.price,It+"/api/v1/parttimer",e.next=4,Lt.a.post("http://localhost:5000/api/v1/parttimer",{username:r,name:c,age:i,pettype:o,price:l});case 4:return u=e.sent,s=u.data,e.abrupt("return",s.status);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),addFullTimeCareTaker:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s,m,p,d,f;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.username,c=n.name,i=n.age,o=n.pettype,l=n.price,u=n.period1_s,s=n.period1_e,m=n.period2_s,p=n.period2_e,It+"/api/v1/fulltimer",e.next=4,Lt.a.post("http://localhost:5000/api/v1/fulltimer",{username:r,name:c,age:i,pettype:o,price:l,period1_s:u,period1_e:s,period2_s:m,period2_e:p});case 4:return d=e.sent,f=d.data,e.abrupt("return",f.status);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),getPetCareList:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/categories/"+a,e.next=4,Lt.a.get(n);case 4:r=e.sent,c=r.data,t.setPetCareList(c.data.pets);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setPetCareList:Object(c.action)((function(e,t){e.petCareList=Object(Rt.a)(t)})),addPetCareItem:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.username,r=a.pettype,c=a.price,i=It+"/api/v1/categories/"+n,e.next=4,Lt.a.post(i,{pettype:r,price:c});case 4:o=e.sent,l=o.data,t.addPetCareList(l.data.pets);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),addPetCareList:Object(c.action)((function(e,t){e.petCareList.push(t)})),getPetTypeList:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It+"/api/v1/pettype",e.next=3,Lt.a.get("http://localhost:5000/api/v1/pettype");case 3:n=e.sent,r=n.data,console.log(r),t.setPetTypeList(r.data.pettypes);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setPetTypeList:Object(c.action)((function(e,t){e.petTypeList=Object(Rt.a)(t)})),deletePetType:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.username,r=a.pettype,c=It+"/api/v1/categories/"+n+"/"+r,e.next=4,Lt.a.delete(c);case 4:i=e.sent,i.data,t.deleteUserPetType(a.pettype);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),deleteUserPetType:Object(c.action)((function(e,t){var a=null;e.petCareList.forEach((function(e,n){console.log(e.pettype),e.pettype==t&&(a=n)})),e.petCareList.splice(a,1)})),getUserAvailability:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.ctuname,r=a.s_time,c=a.e_time,i=It+"/api/v1/availability/"+n+"/"+q(r)+"/"+q(c),console.log(i),e.next=5,Lt.a.get(i);case 5:o=e.sent,l=o.data,t.setUserAvailability(l.data.availabilities);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setUserAvailability:Object(c.action)((function(e,t){e.availability=Object(Rt.a)(t)})),addUserAvailability:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.ctuname,r=a.s_time,c=a.e_time,i=It+"/api/v1/availability/"+n,console.log(i),e.next=5,Lt.a.post(i,{s_time:r,e_time:c});case 5:o=e.sent,l=o.data,t.addAvailability(l.data.availability);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),addAvailability:Object(c.action)((function(e,t){e.availability.push(t)})),deleteUserAvailability:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.ctuname,r=a.s_time,c=a.e_time,i=It+"/api/v1/availability/"+n+"/"+q(W(r))+"/"+q(W(c)),console.log(i),console.log({s_time:q(W(r)),e_time:q(W(c))}),e.next=6,Lt.a.delete(i);case 6:o=e.sent,l=o.data,console.log(l),t.deleteAvailability(a);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),deleteAvailability:Object(c.action)((function(e,t){var a=null;e.availability.forEach((function(e,n){t.s_time==e.s_time&&t.e_time==e.e_time&&(a=n)})),e.availability.splice(a,1)})),getUserReviews:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/review/"+a,e.next=4,Lt.a.get(n);case 4:r=e.sent,c=r.data,t.setUserReviews(c.data.reviews);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setUserReviews:Object(c.action)((function(e,t){e.userReviews=Object(Rt.a)(t)})),getRating:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/rating/"+a,e.next=4,Lt.a.get(n);case 4:r=e.sent,c=r.data,t.setUserRating(c.data.rating);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setUserRating:Object(c.action)((function(e,t){e.userRating=t}))},Wt={singlePetOwner:null,getPetOwner:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/petowner/"+a,e.next=4,Lt.a.get(n);case 4:return r=e.sent,c=r.data,t.setPetOwner(c.data),e.abrupt("return",c.status);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setPetOwner:Object(c.action)((function(e,t){console.log(t),null!==t.user&&(e.singlePetOwner=t.user),console.log(Object(c.debug)(e))})),addPetOwner:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s,m;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),n=Object(Bt.a)({},a),r=n.username,c=n.ownername,i=n.age,o=n.pettype,l=n.petname,u=n.petage,s=n.requirements,e.next=4,Lt.a.post("http://localhost:5000/api/v1/petowner",{username:r,ownername:c,age:i,pettype:o,petname:l,petage:u,requirements:s});case 4:m=e.sent,m.data;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())},Mt={allPets:[],ownerSpecificPets:[],petCategories:[],biddablePets:[],getAllPets:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt.a.get(It+"/api/v1/pet");case 2:n=e.sent,r=n.data,t.setAllPets(r.data.pets);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setAllPets:Object(c.action)((function(e,t){e.allPets=Object(Rt.a)(t)})),getOwnerPets:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/pet/"+a,e.next=4,Lt.a.get(n);case 4:r=e.sent,c=r.data,t.setOwnerPets(c.data.pets);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setOwnerPets:Object(c.action)((function(e,t){e.ownerSpecificPets=Object(Rt.a)(t)})),getOwnerPetsOfType:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.username,r=a.pettype,c=It+"/api/v1/pet/"+n+"/"+r,console.log(c),e.next=5,Lt.a.get(c);case 5:i=e.sent,o=i.data,t.setBiddablePets(o.data.pets);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setBiddablePets:Object(c.action)((function(e,t){e.biddablePets=Object(Rt.a)(t)})),addPet:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.username,c=n.petname,i=n.pettype,o=n.petage,l=n.requirements,e.next=3,Lt.a.post(It+"/api/v1/pet",{username:r,petname:c,pettype:i,petage:o,requirements:l});case 3:u=e.sent,s=u.data,t.addAPet(s.data.pet);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),addAPet:Object(c.action)((function(e,t){e.ownerSpecificPets.push(t)})),editPet:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.username,c=n.petname,i=n.pettype,o=n.petage,l=n.requirements,u=It+"/api/v1/pet/"+r+"/"+c,e.next=4,Lt.a.put(u,{pettype:i,petage:o,requirements:l});case 4:s=e.sent,s.data;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),deletePet:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.username,c=n.petname,i=It+"/api/v1/pet/"+r+"/"+c,console.log(i),e.next=5,Lt.a.delete(i);case 5:o=e.sent,o.data;case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),getPetCategories:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It+"/api/v1/categories",e.next=3,Lt.a.get("http://localhost:5000/api/v1/categories");case 3:n=e.sent,r=n.data,t.getAllCategories(r.data.pets);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),getAllCategories:Object(c.action)((function(e,t){e.petCategories=Object(Rt.a)(t)}))},Yt={routes:[{path:"/",sidebarName:"Login"},{path:"/signup",sidebarName:"Signup"}],setRoutes:Object(c.action)((function(e,t){e.routes=t}))},zt={careTakers:qt,petOwners:Wt,pets:Mt,user:{singleUser:[],getUser:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/users/"+a,e.next=4,Lt.a.get(n).then((function(e){if("success"===e.data.status)return e.data.data.user;alert("Username does not exist in the database!")})).catch((function(e){alert("Please choose a different username!")}));case 4:r=e.sent,console.log(r),t.setUser(r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setUser:Object(c.action)((function(e,t){null!==t&&(e.singleUser=t)})),editUser:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s,m,p;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(Bt.a)({},a),r=n.username,c=n.firstname,i=n.age,o=n.usertype,console.log(Object(Bt.a)({},a)),l="","petowner"!==o){e.next=13;break}return l=It+"/api/v1/petowner/"+r,e.next=7,Lt.a.put(l,{username:r,ownername:c,age:i});case 7:u=e.sent,u.data,t.getUser(r),t.getDisplayedUser(r),e.next=31;break;case 13:if("caretaker"!==o){e.next=23;break}return l=It+"/api/v1/caretaker/"+r,e.next=17,Lt.a.put(l,{username:r,carername:c,age:i});case 17:s=e.sent,s.data,t.getUser(r),t.getDisplayedUser(r),e.next=31;break;case 23:return m=It+"/api/v1/petowner/"+r,p=It+"/api/v1/caretaker/"+r,e.next=27,Lt.a.put(m,{username:r,ownername:c,age:i});case 27:return e.next=29,Lt.a.put(p,{username:r,carername:c,age:i});case 29:t.getUser(r),t.getDisplayedUser(r);case 31:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),displayedUser:[],getDisplayedUser:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/users/"+a,e.next=4,Lt.a.get(n);case 4:r=e.sent,c=r.data,t.setDisplayedUser(c.data);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setDisplayedUser:Object(c.action)((function(e,t){null!==t.user&&(e.displayedUser=t.user)})),allUsers:[],getAllUsers:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return It+"/api/v1/users",e.next=3,Lt.a.get("http://localhost:5000/api/v1/users");case 3:n=e.sent,r=n.data,t.setAllUsers(r.data);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setAllUsers:Object(c.action)((function(e,t){null!==t.users&&(e.allUsers=t.users)}))},routes:Yt,bids:{userBids:[],petOwnerBids:[],addBid:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s,m,p;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.pouname,c=n.petname,i=n.pettype,o=n.ctuname,l=n.s_time,u=n.e_time,s=n.pay_type,m=n.pet_pickup,It+"/api/v1/bid",e.next=4,Lt.a.post("http://localhost:5000/api/v1/bid",{pouname:r,petname:c,pettype:i,ctuname:o,s_time:l,e_time:u,pay_type:s,pet_pickup:m});case 4:p=e.sent,p.data;case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),addReviewToBid:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.bid,c=n.rating,i=n.review,It+"/api/v1/bid",e.next=4,Lt.a.put("http://localhost:5000/api/v1/bid",{pouname:r.pouname,petname:r.petname,pettype:r.pettype,ctuname:r.ctuname,s_time:q(W(r.s_time)),e_time:q(W(r.e_time)),pay_type:r.pay_type,pet_pickup:r.pet_pickup,rating:c,review:i,pay_status:r.pay_status});case 4:o=e.sent,o.data,t.modifyBidReview(a);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),modifyBidReview:Object(c.action)((function(e,t){e.petOwnerBids.map((function(e){e.pouname==t.bid.pouname&&e.petname==t.bid.petname&&e.pettype==t.bid.pettype&&e.ctuname==t.bid.ctuname&&e.s_time==t.bid.s_time&&e.e_time==t.bid.e_time&&(e.rating=t.rating,e.review=t.review)}))})),getUserBids:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/bid/"+a+"/ct",console.log(n),e.next=5,Lt.a.get(n);case 5:r=e.sent,c=r.data,t.setUserBids(c.data.bids);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setUserBids:Object(c.action)((function(e,t){e.userBids=Object(Rt.a)(t)})),getPetOwnerBids:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=It+"/api/v1/bid/"+a+"/po",console.log(n),e.next=5,Lt.a.get(n);case 5:r=e.sent,c=r.data,t.setPetOwnerBids(c.data.bids);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),setPetOwnerBids:Object(c.action)((function(e,t){e.petOwnerBids=Object(Rt.a)(t)})),acceptBid:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s,m;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.pouname,c=n.petname,i=n.pettype,o=n.ctuname,l=n.s_time,u=n.e_time,n.pay_type,n.pet_pickup,s=It+"/api/v1/bid/"+o+"/"+r+"/mark",console.log(s),console.log({petname:c,pettype:i,s_time:q(W(l)),e_time:q(W(u))}),e.next=6,Lt.a.put(s,{petname:c,pettype:i,s_time:q(W(l)),e_time:q(W(u))});case 6:m=e.sent,m.data,t.modifyBidStatus(a);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),modifyBidStatus:Object(c.action)((function(e,t){console.log(t),e.userBids.map((function(e){e.pouname==t.pouname&&e.petname==t.petname&&e.pettype==t.pettype&&e.ctuname==t.ctuname&&e.s_time==t.s_time&&e.e_time==t.e_time&&(e.is_win=!0)}))})),makePayment:Object(c.thunk)(function(){var e=Object(Le.a)(Fe.a.mark((function e(t,a){var n,r,c,i,o,l,u,s,m;return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Bt.a)({},a),r=n.pouname,c=n.petname,i=n.pettype,o=n.ctuname,l=n.s_time,u=n.e_time,n.pay_type,n.pet_pickup,s=It+"/api/v1/bid/"+o+"/"+r+"/pay",console.log(s),console.log({petname:c,pettype:i,s_time:q(W(l)),e_time:q(W(u))}),e.next=6,Lt.a.put(s,{petname:c,pettype:i,s_time:q(W(l)),e_time:q(W(u))});case 6:m=e.sent,m.data,t.modifyPayStatus(a);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),modifyPayStatus:Object(c.action)((function(e,t){console.log(t),e.petOwnerBids.map((function(e){e.pouname==t.pouname&&e.petname==t.petname&&e.pettype==t.pettype&&e.ctuname==t.ctuname&&e.s_time==t.s_time&&e.e_time==t.e_time&&(e.pay_status=!0)}))}))}},Vt=Object(c.createStore)(Object(c.persist)(zt,{mergeStrategy:"mergeShallow"})),Ht=[{path:"/",sidebarName:"Login"},{path:"/signup",sidebarName:"Signup"},{path:"/homepage",sidebarName:"Homepage"},{path:"/users/:username",sidebarName:"Petowner Profile"},{path:"/users/:username/caretaker",sidebarName:"Caretaker Profile"},{path:"/users/:username/caretaker-admin",sidebarName:"Caretaker Settings"},{path:"/admin",sidebarName:"PCS Administrator Settings"},{path:"/users/caretakers",sidebarName:"Look for Caretakers"}],Jt=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{marginTop:e.spacing(15),display:"flex",flexDirection:"column",alignItems:"center"},textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}}})),Gt=function(){var e=Jt(),t=Object(n.useState)(""),a=Object(x.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),s=Object(x.a)(l,2),m=(s[0],s[1]),p=Object(n.useState)(""),d=Object(x.a)(p,2),f=d[0],b=d[1],h=Object(c.useStoreActions)((function(e){return e.user.getUser})),E=Object(c.useStoreActions)((function(e){return e.user.getDisplayedUser})),O=Object(c.useStoreActions)((function(e){return e.routes.setRoutes})),y=function(){var e=Vt.getState().user.singleUser;return null!=e&&0!=e.length||(b("Username does not exist"),!1)},j=Object(u.f)(),k=function(){var e=Object(Le.a)(Fe.a.mark((function e(t){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(i);case 2:return e.next=4,E(i);case 4:y()&&(Ht[3].path="/users/"+i,Ht[4].path="/users/"+i+"/caretaker",Ht[5].path="/users/"+i+"/caretaker-admin",O(Ht),j.push("homepage"));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(Xe.a,{component:"main",maxWidth:"xs",className:e.container},r.a.createElement(v.a,{component:"h1",variant:"h3",color:"textPrimary",align:"center"},"Login"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(ye.a,{variant:"outlined",label:"Username",required:!0,fullWidth:!0,id:"username",autoComplete:"username",autoFocus:!0,className:e.textfield,onChange:function(e){return o(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Password",required:!0,fullWidth:!0,id:"password",autoComplete:"password",autoFocus:!0,className:e.textfield,onChange:function(e){return m(e.target.value)}}),r.a.createElement(g.a,{onClick:function(e){return k(e)},fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Login"),r.a.createElement(v.a,{variant:"h5"},f))))},$t=a(249),Kt=a(160),Xt=Object(s.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},container:{marginTop:e.spacing(15),display:"flex",flexDirection:"column",alignItems:"center"},textfield:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},formControl:{margin:e.spacing(3)}}})),Qt=function(){var e=Xt(),t=Object(u.f)(),a=Object(n.useState)(""),i=Object(x.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(""),m=Object(x.a)(s,2),p=(m[0],m[1]),d=Object(n.useState)(""),f=Object(x.a)(d,2),b=f[0],h=f[1],E=Object(n.useState)(""),O=Object(x.a)(E,2),y=O[0],j=O[1],k=Object(n.useState)(0),w=Object(x.a)(k,2),S=w[0],C=w[1],P=Object(n.useState)(0),_=Object(x.a)(P,2),N=_[0],T=_[1],A=Object(n.useState)(!1),D=Object(x.a)(A,2),U=D[0],B=D[1],R=Object(n.useState)(!1),F=Object(x.a)(R,2),L=F[0],I=F[1],q=Object(n.useState)("parttime"),W=Object(x.a)(q,2),M=W[0],Y=W[1],J=Object(n.useState)({}),G=Object(x.a)(J,2),$=G[0],K=G[1],X=Object(n.useState)(0),Q=Object(x.a)(X,2),Z=Q[0],ee=Q[1],te=Object(n.useState)(0),ae=Object(x.a)(te,2),ne=ae[0],re=ae[1],ce=Object(n.useState)(0),ie=Object(x.a)(ce,2),oe=ie[0],le=ie[1],ue=Object(n.useState)(0),se=Object(x.a)(ue,2),me=se[0],pe=se[1],de=Object(n.useState)(!1),fe=Object(x.a)(de,2),be=fe[0],ge=fe[1],ve=Object(n.useState)("An error occurred."),he=Object(x.a)(ve,2),Ee=he[0],Oe=he[1],je=function(e){Y(e.target.value)},ke=function(e){j(e.target.value)},xe=function(e){C(e.target.value)},Se=Object(c.useStoreActions)((function(e){return e.careTakers.addPartTimeCareTaker})),Ce=Object(c.useStoreActions)((function(e){return e.careTakers.addFullTimeCareTaker})),Pe=Object(c.useStoreActions)((function(e){return e.petOwners.addPetOwner})),_e=Object(c.useStoreActions)((function(e){return e.user.getAllUsers})),Ne=Object(c.useStoreState)((function(e){return e.user.allUsers}));Object(n.useEffect)((function(){return _e(),function(){}}),[]);var Te=function(){if(function(){var e=!1;return Ne.map((function(t){t.username==o&&(e=!0)})),e}())return Oe("Username is taken"),ge(!0),!1;if(!U&&!L)return Oe("Please select either pet owner or caretaker"),ge(!0),!1;if(""==b||0==N)return Oe("Please fill up the empty fields"),ge(!0),!1;if(L){if(""==y)return Oe("Please select a valid pet type to care for"),ge(!0),!1;if(0==S)return Oe("Price per day cannot be 0 or empty"),ge(!0),!1}if(U){if(0===Object.keys($).length)return Oe("Please click on the Save Pet Information button"),ge(!0),!1;if(""==$.petName||""==$.petType)return Oe("Please fill up the empty pet information"),ge(!0),!1}return!0},Ae=function(){var e=Object(Le.a)(Fe.a.mark((function e(){return Fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te()){e.next=2;break}return e.abrupt("return");case 2:De(),Ue();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){U&&Pe({username:o,ownername:b,age:N,pettype:$.petType,petname:$.petName,petage:$.petAge,requirements:$.petRequirements}),L&&("parttime"==M?Se({username:o,name:b,age:parseInt(N),pettype:y,price:parseInt(S)}):"fulltime"==M&&Ce({username:o,name:b,age:parseInt(N),pettype:y,price:parseInt(S),period1_s:Z,period1_e:ne,period2_s:oe,period2_e:me}))},Ue=function(){t.push("/")};return r.a.createElement("div",null,r.a.createElement(Xe.a,{component:"main",maxWidth:"xs",className:e.container},r.a.createElement(v.a,{component:"h1",variant:"h3",color:"textPrimary",align:"center"},"Signup"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(ye.a,{variant:"outlined",label:"Username",required:!0,fullWidth:!0,id:"username",autoComplete:"username",autoFocus:!0,className:e.textfield,onChange:function(e){return l(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Password",required:!0,fullWidth:!0,id:"password",autoComplete:"password",autoFocus:!0,className:e.textfield,onChange:function(e){return p(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"First Name",required:!0,fullWidth:!0,id:"firstName",autoComplete:"firstName",autoFocus:!0,className:e.textfield,onChange:function(e){return h(e.target.value)}}),r.a.createElement(ye.a,{variant:"outlined",label:"Age",required:!0,fullWidth:!0,id:"age",autoComplete:"age",autoFocus:!0,type:"number",className:e.textfield,onChange:function(e){return T(e.target.value)}}),r.a.createElement(z.a,{component:"fieldset",className:e.formControl},r.a.createElement(V.a,{component:"legend"},"Account Roles"),r.a.createElement($t.a,null,r.a.createElement(H.a,{control:r.a.createElement(Kt.a,{checked:U,onChange:function(){B((function(e){return!e}))},name:"petOwner"}),label:"Pet Owner",id:"isPetOwner"}),r.a.createElement(H.a,{control:r.a.createElement(Kt.a,{checked:L,onChange:function(){I((function(e){return!e}))},name:"petCaretaker"}),label:"Pet Caretaker",id:"isPetCaretaker"})),r.a.createElement(We.a,null,"Choose at least one role!")),L&&"fulltime"===M?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{component:"fieldset",className:e.formControl},r.a.createElement(V.a,{component:"legend"},"Type of caretaker"),r.a.createElement(Ie.a,{value:M,onChange:je},r.a.createElement(H.a,{value:"parttime",control:r.a.createElement(qe.a,null),label:"Part-time"}),r.a.createElement(H.a,{value:"fulltime",control:r.a.createElement(qe.a,null),label:"Full-time"})),r.a.createElement(We.a,null,"Choose at least one role!")),r.a.createElement(we,{parentType:ke,parentPrice:xe,label:"Choose a pet type you can care for"}),r.a.createElement(Ye,{setP1StartDate:ee,setP1EndDate:re,setP2StartDate:le,setP2EndDate:pe})," "):L?r.a.createElement(r.a.Fragment,null," ",r.a.createElement(z.a,{component:"fieldset",className:e.formControl},r.a.createElement(V.a,{component:"legend"},"Type of caretaker"),r.a.createElement(Ie.a,{value:M,onChange:je},r.a.createElement(H.a,{value:"parttime",control:r.a.createElement(qe.a,null),label:"Part-time"}),r.a.createElement(H.a,{value:"fulltime",control:r.a.createElement(qe.a,null),label:"Full-time"})),r.a.createElement(We.a,null,"Choose at least one role!")),r.a.createElement(we,{parentType:ke,parentPrice:xe,label:"Choose a pet type you can care for"})," "):null,U?r.a.createElement(xt,{parentCallback:function(e){K(e)}}):null,r.a.createElement(g.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){return Ae()}},"Signup"),be?r.a.createElement(v.a,null," ",Ee," "):null)))},Zt=a(319),ea=a(155),ta=a.n(ea),aa=a(326),na=Object(s.a)((function(e){return{card:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},media:{height:140},container:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},rating:{display:"flex",flexDirection:"column","& > * + *":{marginTop:e.spacing(1)}},root:{padding:"2px 4px",display:"flex",alignItems:"center",width:400},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},divider:{height:28,margin:4},searchbar:{margin:e.spacing(1)}}})),ra=function(){var e=na(),t=Object(n.useState)(""),a=Object(x.a)(t,2),i=a[0],o=a[1],u=Object(n.useState)([]),s=Object(x.a)(u,2),d=s[0],b=s[1],h=Object(c.useStoreActions)((function(e){return e.careTakers.getCareTakers})),E=Object(c.useStoreActions)((function(e){return e.careTakers.getPetTypeList}));Object(n.useEffect)((function(){return h(),E(),function(){}}),[]);var O=Object(c.useStoreState)((function(e){return e.careTakers.caretakers})),y=Object(c.useStoreState)((function(e){return e.careTakers.petTypeList}));return O.map((function(e){return e.pettypes=Object(Rt.a)(y).filter((function(t){return t.ctuname===e.username}))})),O.map((function(e){return e.pettypes=e.pettypes.map((function(e){return e.pettype})).join(", ")})),console.log(O),Object(n.useEffect)((function(){b(O.filter((function(e){return e.pettypes.toLowerCase().includes(i.toLowerCase())})))}),[i,O]),r.a.createElement("div",null,r.a.createElement(Xe.a,{component:"main",maxWidth:"md",className:e.container},r.a.createElement(v.a,{component:"h1",variant:"h3",color:"textPrimary",align:"left"},"Caretakers"),r.a.createElement(ye.a,{onChange:function(e){return o(e.target.value)},className:e.margin,label:"Search pet type",InputProps:{startAdornment:r.a.createElement(Zt.a,{position:"start"},r.a.createElement(ta.a,null))},variant:"outlined",fullWidth:!0}),d.map((function(t){return r.a.createElement(m.a,{key:Object(xe.a)(),className:e.card,variant:"outlined",width:1},r.a.createElement(p.a,{component:l.b,to:"/users/".concat(t.username,"/caretaker"),style:{textDecoration:"none"}},r.a.createElement(f.a,null,r.a.createElement(v.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.carername),r.a.createElement(v.a,{variant:"body2",component:"p"},"Caretaken description such as age: ",t.age," and salary: ",t.salary," about the pets that they take care of, how much they charge and all."),r.a.createElement("div",{className:e.rating},r.a.createElement(aa.a,{value:t.rating,precision:.5,readOnly:!0})),t.available?r.a.createElement(g.a,{variant:"outlined",color:"primary"},"Available"):r.a.createElement(g.a,{variant:"outlined",disabled:!0},"Unavailable"),r.a.createElement(v.a,{variant:"body2",component:"p"},"Takes care of: ",t.pettypes),r.a.createElement(g.a,{size:"small",color:"primary"},"Learn More"))))}))))},ca=a(327),ia=a(318),oa=a(325),la=a(307),ua=a(156),sa=a.n(ua),ma=Object(s.a)((function(e){return Object(ca.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},drawer:{width:300},fullList:{width:"auto"}})})),pa=Object(u.h)((function(e){var t=Object(c.useStoreState)((function(e){return e.routes.routes})),a=ma(),i=Object(n.useState)(!1),o=Object(x.a)(i,2),u=o[0],s=o[1],m=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&s(e)}};return r.a.createElement("div",null,r.a.createElement("div",{className:a.root},r.a.createElement(N.a,null,r.a.createElement(ia.a,null,r.a.createElement(fe.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:m(!0)},r.a.createElement(sa.a,null)),r.a.createElement(v.a,{variant:"h6",className:a.title},"PCS Application")))),r.a.createElement(oa.a,{classes:{paper:a.drawer},open:u,onClose:m(!1)},r.a.createElement("div",{className:a.fullList,role:"presentation",onClick:m(!1),onKeyDown:m(!1)},r.a.createElement(la.a,null,t.map((function(t,a){return r.a.createElement(l.c,{to:t.path,style:{textDecoration:"none"},key:a},r.a.createElement(Q.a,{selected:(n=t.path,e.location.pathname===n)},r.a.createElement(F.a,{primary:t.sidebarName})));var n}))))))})),da=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(l.a,null,r.a.createElement(pa,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:Gt}),r.a.createElement(u.a,{exact:!0,path:"/admin",component:w}),r.a.createElement(u.a,{exact:!0,path:"/admin/set-price",component:nt}),r.a.createElement(u.a,{exact:!0,path:"/admin/view-caretakers",component:pt}),r.a.createElement(u.a,{exact:!0,path:"/users/caretakers",component:ra}),r.a.createElement(u.a,{exact:!0,path:"/users/:username/update",component:tt}),r.a.createElement(u.a,{exact:!0,path:"/users/:username",component:Tt}),r.a.createElement(u.a,{exact:!0,path:"/users/:username/caretaker-admin",component:Je}),r.a.createElement(u.a,{exact:!0,path:"/users/:username/caretaker",component:Ut}),r.a.createElement(u.a,{exact:!0,path:"/homepage",component:Ze}),r.a.createElement(u.a,{exact:!0,path:"/signup",component:Qt}))))};function fa(e){var t=e.children,a=Object(c.useStoreRehydrated)();return console.log(a),console.log(t),a?t:null}o.a.render(r.a.createElement(c.StoreProvider,{store:Vt},r.a.createElement(fa,null,r.a.createElement(da,null))),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.5188c9aa.chunk.js.map